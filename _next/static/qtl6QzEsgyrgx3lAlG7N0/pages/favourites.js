(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{"/Eg9":function(e,t,n){"use strict";n.r(t);var r=n("rePB"),a=n("q1tI"),s=n.n(a),o=n("LvDl"),i=n.n(o),c=n("zG+e"),l=n("BtBB"),u=n("dA1B"),f=n("ehm3"),m=n("YFqc"),d=n.n(m),p=s.a.createElement;function b(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?b(Object(n),!0).forEach((function(t){Object(r.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}t.default=Object(f.b)((function(e){return p(c.a,{title:"My favourites",desc:"Daily updates from my favourite breweries",longDesc:i.a.isEmpty(e.favourites.breweryIds)?p("p",null,"It looks like you haven't set any favourite breweries yet.  Visit the ",p(d.a,{href:"/breweries"},p("a",null,"A-Z page"))," to add some."):p("p",null,"This is a personalised view of your favourite breweries.  Add or remove breweries from the ",p(d.a,{href:"/breweries"},p("a",null,"A-Z page")),"."),breweries:l.a.breweries},p(u.a,{inventory:y(y({},l.a),{},{items:i.a.filter(l.a.items,(function(t){return e.favourites.breweryIds.includes(t.brewery.id)}))})}))}))},"4+LV":function(e,t,n){e.exports={menu:"styles_menu__22X75",collapsed:"styles_collapsed__1m4CV",expanded:"styles_expanded__4S6q8",button:"styles_button__1CUZn",content:"styles_content__2Slmk",section:"styles_section__3-9yL",info:"styles_info__1VXar",option:"styles_option__21_Xt",clickable:"styles_clickable__ChKRZ",selectable:"styles_selectable__2Jq1t",checkmark:"styles_checkmark__3LTDx"}},"6aOp":function(e,t,n){e.exports={brewery:"styles_brewery__bjRYe",name:"styles_name__IYbd7",thumbnail:"styles_thumbnail__1rxWo",pill:"styles_pill__1adtb",new:"styles_new__2JoXy","just-added":"styles_just-added__1gwf7",keg:"styles_keg__ZJsgH",mixed:"styles_mixed__8G3IA","low-abv":"styles_low-abv__2gXna","sold-out":"styles_sold-out__3EBEc",info:"styles_info__11fRt",price:"styles_price__1WnTu",offer:"styles_offer__1A_hV",tooltip:"styles_tooltip__3kB3n","tooltip-text":"styles_tooltip-text__xLDBZ",disclaimer:"styles_disclaimer__uXSpL"}},GTeF:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/favourites",function(){return n("/Eg9")}])},YtlM:function(e,t,n){"use strict";var r;n.d(t,"a",(function(){return r})),function(e){e.Bottle="BOTTLE",e.Can="CAN",e.Keg="KEG"}(r||(r={}))},dA1B:function(e,t,n){"use strict";var r=n("rePB"),a=n("q1tI"),s=n.n(a),o=n("LvDl"),i=n.n(o),c=n("YtlM"),l=n("4+LV"),u=n.n(l),f=n("TSYQ"),m=n.n(f),d=s.a.createElement,p=function(e){return d("div",{className:u.a.section},d("h4",null,e.title),i.a.map(e.selections.selections,(function(t,n){return d("label",{key:n,className:m()(u.a.selectable,u.a.clickable)},n,d("input",{type:"checkbox",checked:t,onChange:function(){return e.selections.toggle(n)}}),d("span",{className:u.a.checkmark},t?"\u2713":""))})),i.a.size(e.selections.selections)>1&&d("div",null,d("span",{className:m()(u.a.option,u.a.clickable),onClick:function(){return e.selections.setGlobal(!0)}},"All"),d("span",{className:m()(u.a.option,u.a.clickable),onClick:function(){return e.selections.setGlobal(!1)}},"None")))},b=function(e){var t=Object(a.useState)(!1),n=t[0],r=t[1];return d("div",{className:u.a.menu},n?d("div",{className:u.a.expanded},d("div",{className:m()(u.a.button,u.a.clickable)},d("span",{onClick:function(){return r(!1)}},"\xd7")),d("div",{className:u.a.content},e.children),d("div",{className:u.a.info},"Data captured: ",e.capturedAt.local().format("lll"),".")):d("div",{className:u.a.collapsed},d("div",{className:u.a.clickable,onClick:function(){return r(!0)}},"Refine search ...")))},y=n("D0oW"),v=n("e/f6"),_=s.a.createElement,w=n("3srb"),g=n("6aOp"),h=n.n(g),O=s.a.createElement,N=function(e){var t=e.datum;return O(w.a,{id:t.brewery.id},t.brewery.shortName)},j=function(e){var t=e.datum;return O("a",{href:t.url},O("img",{alt:"",src:t.thumbnailUrl,width:"100px",height:"100px"}),t.available||O("div",{className:h.a["sold-out"]},"Out of stock"))},k=function(e){var t=e.datum,n=t.new,r=t.brewery.new,a=Object(v.a)(t).format===c.a.Keg,s=!a&&i.a.some(i.a.tail(t.offers),(function(e){return e.format===c.a.Keg})),o=t.mixed,l=void 0!==t.abv&&t.abv<=.5;return O("div",{className:h.a.tooltip},O("a",{href:t.url},t.name),O("p",{className:h.a.info},t.summary),O("p",{className:h.a.info},n&&O("span",{className:m()(h.a.pill,h.a.new)},"NEW !!!"),r&&O("span",{className:m()(h.a.pill,h.a["just-added"])},"Just added"),a&&O("span",{className:m()(h.a.pill,h.a.keg)},"Keg"),s&&O("span",{className:m()(h.a.pill,h.a.keg)},"Keg available"),o&&O("span",{className:m()(h.a.pill,h.a.mixed)},"Mixed case"),l&&O("span",{className:m()(h.a.pill,h.a["low-abv"])},"Low ABV")),void 0!==t.desc&&O(B,{datum:t}))},x=function(e){var t=e.datum;return O(s.a.Fragment,null,t.mixed?"":void 0!==t.abv?"".concat(t.abv.toFixed(1),"%"):"?")},E=function(e){var t=e.datum;return O(s.a.Fragment,null,O(P,{offer:Object(v.a)(t)}),i.a.size(t.offers)>1&&O("details",null,O("summary",null,i.a.size(t.offers)-1," more"),i.a.map(i.a.tail(t.offers),(function(e,t){return O(P,{key:t,offer:e})}))))},P=function(e){var t=e.offer,n=S(t),r=A(t);return O("div",{className:h.a.offer},"\xa3",I(t)," ",O("span",{className:m()(h.a.info,"hide-small")},"/ ",r),O("p",{className:h.a.info},t.quantity>1?"".concat(t.quantity," \xd7 ").concat(null!==n&&void 0!==n?n:"".concat(r,"s")):n))},B=function(e){var t,n=e.datum;return O("span",{className:m()(h.a["tooltip-text"],"hide-small"),style:{display:"hidden"}},void 0!==n.desc&&(t=n.desc,i.a.map(t.split("\n"),(function(e,t){return _("p",{key:t},e)}))),O("div",{className:h.a.disclaimer},"\xa9 ",n.brewery.shortName))},D=function(e,t){var n=i.a.groupBy(e,(function(e){return e.categories[0]||"Other"}));return i.a.map(t.concat("Other"),(function(e){return{name:e,data:n[e]}}))},S=function(e){return void 0===e.sizeMl?void 0:e.sizeMl<1e3?"".concat(e.sizeMl," ml"):"".concat(e.sizeMl/1e3," litres")},A=function(e){switch(e.format){case c.a.Bottle:return"bottle";case c.a.Can:return"can";case c.a.Keg:return"keg";default:return"item"}},I=function(e){return C(e).toFixed(2).replace(/\.00/,"")},C=function(e){return e.totalPrice/e.quantity},K=function(e){return O(y.b,{sections:D(e.items,e.categories)},O(y.a,{render:N,name:"Brewery",className:h.a.brewery,selector:function(e){return e.brewery}}),O(y.a,{render:j,className:h.a.thumbnail}),O(y.a,{render:k,name:"Name",className:h.a.name,selector:function(e){return e.name}}),O(y.a,{render:x,name:"ABV",className:"hide-tiny",selector:function(e){return e.abv}}),O(y.a,{render:E,name:"Price",className:h.a.price,selector:function(e){return C(Object(v.a)(e))}}))},L=n("y8QE"),T=s.a.createElement;function q(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function z(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?q(Object(n),!0).forEach((function(t){Object(r.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):q(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var M=function(e){return i.a.uniq(i.a.map(e,(function(e){return e.brewery.shortName})))},F=function(e){var t=function(e,t){return i.a.fromPairs(i.a.map(e,(function(e){return[e,t]})))},n=Object(a.useState)(t(e,!0)),r=n[0],s=n[1];return{selections:r,toggle:function(e){var t=z({},r);t[e]=!t[e],s((function(t){var n=z({},t);return n[e]=!n[e],n}))},setGlobal:function(e){s((function(n){return t(i.a.keys(n),e)}))},setKeys:function(e){s(t(e,!0))}}};t.a=function(e){var t=e.inventory,n=F(["Out of stock"]),r=F(M(t.items)),o=F(["Regular","Mixed case","Keg"]);Object(a.useEffect)((function(){return r.setKeys(M(t.items))}),[t.items]);var l=function(e){return r.selections[e.brewery.shortName]},u=function(e){var t=Object(v.a)(e).format===c.a.Keg;return o.selections.Regular&&!t&&!e.mixed||o.selections["Mixed case"]&&e.mixed||o.selections.Keg&&t},f=function(e){return n.selections["Out of stock"]||e.available};return T(s.a.Fragment,null,T(L.a,{text:"Click on an image to go to the brewery shop!"}),T(b,{capturedAt:t.capturedAt},T(p,{title:"Formats",selections:o}),T(p,{title:"Availability",selections:n}),i.a.size(r.selections)>1&&T(p,{title:"Breweries",selections:r})),T("main",null,T(K,{items:t.items.filter((function(e){return l(e)&&u(e)&&f(e)})),categories:t.categories})))}},dpcy:function(e,t,n){e.exports={htu:"styles_htu__f4qBz"}},"e/f6":function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n("LvDl"),a=n.n(r),s=function(e){var t=a.a.first(e.offers);if(void 0===t)throw new Error("No offers for item");return t}},ehm3:function(e,t,n){"use strict";function r(){return(r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}n.d(t,"a",(function(){return f})),n.d(t,"b",(function(){return m}));var a=n("q1tI"),s=n.n(a),o=n("LvDl"),i=n.n(o),c=s.a.createElement,l=s.a.createContext({favourites:{breweryIds:[]},onToggle:function(){}}),u="favourites",f=function(e){var t=Object(a.useState)({breweryIds:[]}),n=t[0],r=t[1],s=function(){var e=window.localStorage.getItem(u);null!==e&&r(JSON.parse(e))};Object(a.useEffect)((function(){s(),window.addEventListener("storage",s)}),[]);return c(l.Provider,{value:{favourites:n,onToggle:function(e){var t=new Set(n.breweryIds);t.has(e)?t.delete(e):t.add(e);var r={breweryIds:i.a.sortBy(Array.from(t),(function(e){return e}))};window.localStorage.setItem(u,JSON.stringify(r)),s()}}},e.children)},m=function(e){return function(t){return c(l.Consumer,null,(function(n){return c(e,r({},t,n))}))}}},y8QE:function(e,t,n){"use strict";var r=n("q1tI"),a=n.n(r),s=n("dpcy"),o=n.n(s),i=n("TSYQ"),c=n.n(i),l=a.a.createElement;t.a=function(e){return l("div",{className:c()(o.a.htu,"show-medium")},e.text)}}},[["GTeF",1,2,3,8,7,5,0,4,6]]]);