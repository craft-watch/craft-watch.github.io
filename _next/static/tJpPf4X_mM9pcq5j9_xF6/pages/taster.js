(window.webpackJsonp=window.webpackJsonp||[]).push([[19],{"9i+O":function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/taster",function(){return n("WbrO")}])},"CE/B":function(e,t,n){"use strict";var a=n("q1tI"),r=n.n(a),o=n("N00e"),i=n.n(o),c=n("TSYQ"),s=n.n(c),l=r.a.createElement;t.a=function(e){return l("div",{className:s()(i.a.htu,"show-medium")},e.text)}},"FdL+":function(e,t,n){"use strict";var a=n("rePB"),r=n("q1tI"),o=n.n(r),i=n("LvDl"),c=n.n(i),s=n("YtlM"),l=n("ZZvQ"),u=n.n(l),f=n("TSYQ"),m=n.n(f),d=o.a.createElement,b=function(e){return d("div",{className:u.a.section},d("h4",null,e.title),c.a.map(e.selections.selections,(function(t,n){return d("label",{key:n,className:m()(u.a.selectable,u.a.clickable)},n,d("input",{type:"checkbox",checked:t,onChange:function(){return e.selections.toggle(n)}}),d("span",{className:u.a.checkmark},t?"\u2713":""))})),c.a.size(e.selections.selections)>1&&d("div",null,d("span",{className:m()(u.a.option,u.a.clickable),onClick:function(){return e.selections.setGlobal(!0)}},"All"),d("span",{className:m()(u.a.option,u.a.clickable),onClick:function(){return e.selections.setGlobal(!1)}},"None")))},p=function(e){var t=Object(r.useState)(!1),n=t[0],a=t[1];return d("div",{className:u.a.menu},n?d("div",{className:u.a.expanded},d("div",{className:m()(u.a.button,u.a.clickable)},d("span",{onClick:function(){return a(!1)}},"\xd7")),d("div",{className:u.a.content},e.children),d("div",{className:u.a.info},"Data captured: ",e.capturedAt.local().format("lll"),".")):d("div",{className:u.a.collapsed},d("div",{className:u.a.clickable,onClick:function(){return a(!0)}},"Refine search ...")))},v=n("AgaG"),_=n("e/f6"),y=o.a.createElement,O=n("qeRX"),h=n("itNP"),g=n.n(h),w=o.a.createElement,N=function(e){var t=e.datum;return w(O.a,{id:t.brewery.id},t.brewery.shortName)},j=function(e){var t=e.datum;return w("a",{href:t.url},w("img",{alt:"",src:t.thumbnailUrl,width:"100px",height:"100px"}),t.available||w("div",{className:g.a["sold-out"]},"Out of stock"))},k=function(e){var t=e.datum,n=t.new,a=t.brewery.new,r=Object(_.a)(t).format===s.a.Keg,o=!r&&c.a.some(c.a.tail(t.offers),(function(e){return e.format===s.a.Keg})),i=t.mixed;return w("div",{className:g.a.tooltip},w("a",{href:t.url},t.name),w("p",{className:g.a.info},t.summary),w("p",{className:g.a.info},n&&w("span",{className:m()(g.a.pill,g.a.new)},"NEW !!!"),a&&w("span",{className:m()(g.a.pill,g.a["just-added"])},"Just added"),r&&w("span",{className:m()(g.a.pill,g.a.keg)},"Keg"),o&&w("span",{className:m()(g.a.pill,g.a.keg)},"Keg available"),i&&w("span",{className:m()(g.a.pill,g.a.mixed)},"Mixed case")),void 0!==t.desc&&w(E,{datum:t}))},P=function(e){var t=e.datum;return w(o.a.Fragment,null,void 0!==t.abv?"".concat(t.abv.toFixed(1),"%"):"?")},x=function(e){var t=e.datum;return w(o.a.Fragment,null,w(T,{offer:Object(_.a)(t)}),c.a.size(t.offers)>1&&w("details",null,w("summary",null,c.a.size(t.offers)-1," more"),c.a.map(c.a.tail(t.offers),(function(e,t){return w(T,{key:t,offer:e})}))))},T=function(e){var t=e.offer,n=B(t),a=I(t);return w("div",{className:g.a.offer},"\xa3",K(t)," ",w("span",{className:m()(g.a.info,"hide-small")},"/ ",a),w("p",{className:g.a.info},t.quantity>1?"".concat(t.quantity," \xd7 ").concat(null!==n&&void 0!==n?n:"".concat(a,"s")):n))},E=function(e){var t,n=e.datum;return w("span",{className:m()(g.a["tooltip-text"],"hide-small"),style:{display:"hidden"}},void 0!==n.desc&&(t=n.desc,c.a.map(t.split("\n"),(function(e,t){return y("p",{key:t},e)}))),w("div",{className:g.a.disclaimer},"\xa9 ",n.brewery.shortName))},M=function(e,t){var n=c.a.groupBy(e,(function(e){return e.categories[0]||"Other"}));return c.a.map(t.concat("Other"),(function(e){return{name:e,data:n[e]}}))},B=function(e){return void 0===e.sizeMl?void 0:e.sizeMl<1e3?"".concat(e.sizeMl," ml"):"".concat(e.sizeMl/1e3," litres")},I=function(e){switch(e.format){case s.a.Bottle:return"bottle";case s.a.Can:return"can";case s.a.Keg:return"keg";default:return"item"}},K=function(e){return D(e).toFixed(2).replace(/\.00/,"")},D=function(e){return e.totalPrice/e.quantity},S=function(e){return w(v.b,{sections:M(e.items,e.categories)},w(v.a,{render:N,name:"Brewery",className:g.a.brewery,selector:function(e){return e.brewery}}),w(v.a,{render:j,className:g.a.thumbnail}),w(v.a,{render:k,name:"Name",className:g.a.name,selector:function(e){return e.name}}),w(v.a,{render:P,name:"ABV",className:"hide-tiny",selector:function(e){return e.abv}}),w(v.a,{render:x,name:"Price",className:g.a.price,selector:function(e){return D(Object(_.a)(e))}}))},z=n("CE/B"),C=o.a.createElement;function F(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function q(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?F(Object(n),!0).forEach((function(t){Object(a.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):F(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var A=function(e){return c.a.uniq(c.a.map(e,(function(e){return e.brewery.shortName})))},R=function(e){var t=function(e,t){return c.a.fromPairs(c.a.map(e,(function(e){return[e,t]})))},n=Object(r.useState)(t(e,!0)),a=n[0],o=n[1];return{selections:a,toggle:function(e){var t=q({},a);t[e]=!t[e],o((function(t){var n=q({},t);return n[e]=!n[e],n}))},setGlobal:function(e){o((function(n){return t(c.a.keys(n),e)}))},setKeys:function(e){o(t(e,!0))}}};t.a=function(e){var t=e.inventory,n=R(["Out of stock"]),a=R(A(t.items)),i=R(["Regular","Mixed case","Keg"]);Object(r.useEffect)((function(){return a.setKeys(A(t.items))}),[t.items]);var l=function(e){return a.selections[e.brewery.shortName]},u=function(e){var t=Object(_.a)(e).format===s.a.Keg;return i.selections.Regular&&!t&&!e.mixed||i.selections["Mixed case"]&&e.mixed||i.selections.Keg&&t},f=function(e){return n.selections["Out of stock"]||e.available};return C(o.a.Fragment,null,C(z.a,{text:"Click on an image to go to the brewery shop!"}),C(p,{capturedAt:t.capturedAt},C(b,{title:"Formats",selections:i}),C(b,{title:"Availability",selections:n}),c.a.size(a.selections)>1&&C(b,{title:"Breweries",selections:a})),C("main",null,C(S,{items:t.items.filter((function(e){return l(e)&&u(e)&&f(e)})),categories:t.categories})))}},N00e:function(e,t,n){e.exports={htu:"HowToUse_htu__3i1ub"}},WbrO:function(e,t,n){"use strict";n.r(t);var a=n("rePB"),r=n("q1tI"),o=n.n(r),i=n("LvDl"),c=n.n(i),s=n("zRbM"),l=n("YtlM"),u=n("BtBB"),f=n("e/f6"),m=n("FdL+"),d=o.a.createElement;function b(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?b(Object(n),!0).forEach((function(t){Object(a.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var v=function(e){for(var t=c.a.filter(e,(function(e){return Object(f.a)(e).format!==l.a.Keg&&!e.mixed&&e.available})),n=c.a.groupBy(t,(function(e){return e.brewery.id})),a=c.a.shuffle(c.a.flatten(c.a.map(n,(function(e,t){var n=c.a.size(e),a=n>=10?6:n>=5?5:4;return c.a.times(a,(function(){return t}))})))),r=new Set,o=0;r.size<20;){var i=c.a.sample(n[a[o++]]);void 0!==i&&r.add(i)}return Array.from(r)};t.default=function(){var e=Object(r.useState)([]),t=e[0],n=e[1];return Object(r.useEffect)((function(){var e=v(u.a.items);n(c.a.sortBy(c.a.sortBy(e,(function(e){return e.name})),(function(e){return e.brewery.shortName})))}),[]),d(s.a,{title:"Taster menu",desc:"Taster menu of beer prices from across the UK",longDesc:d(o.a.Fragment,null,d("p",null,"We've put together a randomly curated selection of ",20," beers to inspire you."),d("p",null,"Refresh the page to get another selection!"),d("p",null,"Every item here can be delivered directly to your doorstep from the brewery's online shop.")),breweries:u.a.breweries},d(m.a,{inventory:p(p({},u.a),{},{items:t})}))}},YtlM:function(e,t,n){"use strict";var a;n.d(t,"a",(function(){return a})),function(e){e.Bottle="BOTTLE",e.Can="CAN",e.Keg="KEG"}(a||(a={}))},ZZvQ:function(e,t,n){e.exports={menu:"Menu_menu__2aOFP",collapsed:"Menu_collapsed__nur6-",expanded:"Menu_expanded__18HUD",button:"Menu_button__3r67k",content:"Menu_content__2UGl9",section:"Menu_section__VI_Bo",info:"Menu_info__1KUyY",option:"Menu_option__3VvZa",clickable:"Menu_clickable__3clpS",selectable:"Menu_selectable__3nOBy",checkmark:"Menu_checkmark__3-uZJ"}},"e/f6":function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var a=n("LvDl"),r=n.n(a),o=function(e){var t=r.a.first(e.offers);if(void 0===t)throw new Error("No offers for item");return t}},itNP:function(e,t,n){e.exports={brewery:"InventoryTable_brewery__1uWoT",name:"InventoryTable_name__1lrPl",thumbnail:"InventoryTable_thumbnail__35xIr",pill:"InventoryTable_pill__1lwyR",new:"InventoryTable_new__1B825","just-added":"InventoryTable_just-added__Z1spf",keg:"InventoryTable_keg__1gT_P",mixed:"InventoryTable_mixed__35YuQ","sold-out":"InventoryTable_sold-out__1v1Sh",info:"InventoryTable_info__1eE5q",price:"InventoryTable_price__2iWQ7",offer:"InventoryTable_offer__1L3oh",tooltip:"InventoryTable_tooltip__2O8K7","tooltip-text":"InventoryTable_tooltip-text__UnbKT",disclaimer:"InventoryTable_disclaimer__2uR5X"}}},[["9i+O",1,2,3,8,6,5,0,4,7]]]);