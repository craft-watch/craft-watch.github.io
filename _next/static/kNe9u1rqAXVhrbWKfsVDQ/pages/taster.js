(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{"9i+O":function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/taster",function(){return n("WbrO")}])},"FdL+":function(e,t,n){"use strict";var r=n("rePB"),a=n("q1tI"),i=n.n(a),c=n("xG9w"),s=n("YtlM"),o=i.a.createElement,u=function(e){return o("div",{className:"section"},o("h4",null,e.title),c.a.map(e.selections.selections,(function(t,n){return o("label",{key:n,className:"selectable"},n,o("input",{type:"checkbox",checked:t,onChange:function(){return e.selections.toggle(n)}}),o("span",{className:"checkmark"},t?"\u2713":""))})),c.a.size(e.selections.selections)>1&&o("div",null,o("span",{className:"all-or-none",onClick:function(){return e.selections.setGlobal(!0)}},"All"),o("span",{className:"all-or-none",onClick:function(){return e.selections.setGlobal(!1)}},"None")))},l=function(e){var t=Object(a.useState)(!1),n=t[0],r=t[1];return n?o("div",{className:"menu"},o("div",{className:"menu-button"},o("span",{onClick:function(){return r(!1)}},"\xd7")),o("div",{className:"content"},e.children),o("div",{className:"info"},"Data captured: ",e.capturedAt.local().format("lll"),".")):o("div",{className:"menu-hamburger"},o("div",{onClick:function(){return r(!0)}},"Refine search ..."))},m=n("YFqc"),f=n.n(m),p=n("AgaG"),b=n("e/f6"),d=i.a.createElement,y=i.a.createElement,v=function(e){var t=e.item;return y(f.a,{href:"/".concat(Object(b.b)(t.brewery.shortName))},y("a",null,t.brewery.shortName))},O=function(e){var t=e.item;return y("a",{href:t.url},y("img",{alt:"",src:t.thumbnailUrl,width:"100px",height:"100px"}),t.available||y("div",{className:"sold-out"},"Out of stock"))},g=function(e){var t=e.item,n=t.new&&!t.brewery.new,r=t.new&&t.brewery.new,a=Object(b.a)(t).format===s.a.Keg,i=!a&&c.a.any(c.a.rest(t.offers),(function(e){return e.format===s.a.Keg})),o=t.mixed;return y("div",{className:"tooltip"},y("a",{className:"item-link",href:t.url},t.name),y("p",{className:"summary"},t.summary),y("p",{className:"summary"},n&&y("span",{className:"pill new"},"NEW !!!"),r&&y("span",{className:"pill just-added"},"Just added"),a&&y("span",{className:"pill keg"},"Minikeg"),i&&y("span",{className:"pill keg"},"Minikeg available"),o&&y("span",{className:"pill mixed"},"Mixed case")),void 0!==t.desc&&y(j,{item:t}))},h=function(e){var t=e.item;return y(i.a.Fragment,null,void 0!==t.abv?"".concat(t.abv.toFixed(1),"%"):"?")},w=function(e){var t=e.item;return y(i.a.Fragment,null,y(N,{offer:Object(b.a)(t)}),c.a.size(t.offers)>1&&y("details",null,y("summary",null,c.a.size(t.offers)-1," more"),c.a.map(c.a.rest(t.offers),(function(e,t){return y(N,{key:t,offer:e})}))))},N=function(e){var t=e.offer,n=P(t),r=E(t);return y("div",{className:"offer"},"\xa3",x(t)," ",y("span",{className:"summary hide-small"},"/ ",r),y("p",{className:"summary"},t.quantity>1?"".concat(t.quantity," \xd7 ").concat(null!==n&&void 0!==n?n:"".concat(r,"s")):n))},j=function(e){var t,n=e.item;return y("span",{className:"tooltip-text hide-small",style:{display:"hidden"}},void 0!==n.desc&&(t=n.desc,c.a.map(t.split("\n"),(function(e,t){return d("p",{key:t},e)}))),y("div",{className:"disclaimer"},"\xa9 ",n.brewery.shortName))},k=function(e,t){var n=c.a.groupBy(e,(function(e){return e.categories[0]||"Other"}));return c.a.map(t.concat("Other"),(function(e){return{name:e,data:n[e]}}))},P=function(e){return void 0===e.sizeMl?void 0:e.sizeMl<1e3?"".concat(e.sizeMl," ml"):"".concat(e.sizeMl/1e3," litres")},E=function(e){switch(e.format){case s.a.Bottle:return"bottle";case s.a.Can:return"can";case s.a.Keg:return"keg";default:return"item"}},x=function(e){return B(e).toFixed(2).replace(/\.00/,"")},B=function(e){return e.totalPrice/e.quantity},M=function(e){return y(p.b,{sections:k(e.items,e.categories)},y(p.a,{name:"Brewery",className:"brewery",render:function(e){return y(v,{item:e})},selector:function(e){return e.brewery}}),y(p.a,{className:"thumbnail",render:function(e){return y(O,{item:e})}}),y(p.a,{name:"Name",className:"name",render:function(e){return y(g,{item:e})},selector:function(e){return e.name}}),y(p.a,{name:"ABV",className:"hide-tiny",render:function(e){return y(h,{item:e})},selector:function(e){return e.abv}}),y(p.a,{name:"Price",className:"price",render:function(e){return y(w,{item:e})},selector:function(e){return B(Object(b.a)(e))}}))},z=i.a.createElement;function D(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var F=function(e){return c.a.uniq(c.a.map(e,(function(e){return e.brewery.shortName})))},K=function(e){var t=function(e,t){return c.a.object(c.a.map(e,(function(e){return[e,t]})))},n=Object(a.useState)(t(e,!0)),i=n[0],s=n[1];return{selections:i,toggle:function(e){var t=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?D(Object(n),!0).forEach((function(t){Object(r.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):D(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},i);t[e]=!t[e],s(t)},setGlobal:function(e){s(t(c.a.keys(i),e))},setKeys:function(e){s(t(e,!0))}}};t.a=function(e){var t=e.inventory,n=K(["Out of stock"]),r=K(F(t.items)),o=K(["Regular","Mixed case","Minikeg"]);Object(a.useEffect)((function(){return r.setKeys(F(t.items))}),[t.items]);var m=function(e){return r.selections[e.brewery.shortName]},f=function(e){var t=Object(b.a)(e).format===s.a.Keg;return o.selections.Regular&&!t&&!e.mixed||o.selections["Mixed case"]&&e.mixed||o.selections.Minikeg&&t},p=function(e){return n.selections["Out of stock"]||e.available};return z(i.a.Fragment,null,z("div",{className:"how-to-use"},"Click on an image to go to the brewery shop!"),z(l,{capturedAt:t.capturedAt},z(u,{title:"Formats",selections:o}),z(u,{title:"Availability",selections:n}),c.a.size(r.selections)>1&&z(u,{title:"Breweries",selections:r})),z("main",null,z(M,{items:t.items.filter((function(e){return m(e)&&f(e)&&p(e)})),categories:t.categories})))}},WbrO:function(e,t,n){"use strict";n.r(t);var r=n("rePB"),a=n("q1tI"),i=n.n(a),c=n("xG9w"),s=n("zRbM"),o=n("YtlM"),u=n("BtBB"),l=n("e/f6"),m=n("FdL+"),f=i.a.createElement;function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function b(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach((function(t){Object(r.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var d=function(e){for(var t=c.a.filter(e,(function(e){return Object(l.a)(e).format!==o.a.Keg&&!e.mixed&&e.available})),n=c.a.groupBy(t,(function(e){return e.brewery.shortName})),r=c.a.shuffle(c.a.flatten(c.a.map(n,(function(e,t){var n=c.a.size(e),r=n>=10?6:n>=5?5:4;return c.a.times(r,(function(){return t}))})))),a=new Set,i=0;a.size<20;)a.add(c.a.sample(n[r[i++]]));return Array.from(a)};t.default=function(){var e=Object(a.useState)([]),t=e[0],n=e[1];return Object(a.useEffect)((function(){var e=d(u.a.items);n(c.a.sortBy(c.a.sortBy(e,(function(e){return e.name})),(function(e){return e.brewery.shortName})))}),[]),f(s.a,{title:"Taster menu",desc:"Taster menu of beer prices from across the UK",longDesc:f(i.a.Fragment,null,f("p",null,"We've put together a randomly curated selection of ",20," beers to inspire you."),f("p",null,"Refresh the page to get another selection!"),f("p",null,"Every item here can be delivered directly to your doorstep from the brewery's online shop.")),breweries:u.a.breweries},f(m.a,{inventory:b(b({},u.a),{},{items:t})}))}},YtlM:function(e,t,n){"use strict";var r;n.d(t,"a",(function(){return r})),function(e){e.Bottle="BOTTLE",e.Can="CAN",e.Keg="KEG"}(r||(r={}))}},[["9i+O",1,2,6,5,0,3,4]]]);